{% extends "base.html" %}
{% block title %}Source {{ source.namespace_name if source else "Not Found" }} â€” AgentFlow{% endblock %}
{% block content %}
{% if not source %}
<h1>Source not found</h1>
<p><a href="/sources">Back to sources</a></p>
{% else %}
<h1>Source <span class="mono">{{ source.namespace_name }}</span></h1>

<div class="grid">
    <div>
        <article>
            <header>Details</header>
            <table>
                <tr><th>UUID</th><td class="mono">{{ source.uuid }}</td></tr>
                <tr><th>Namespace Name</th><td>{{ source.namespace_name }}</td></tr>
                <tr><th>Version</th><td>{{ source.version }}</td></tr>
                <tr><th>Origin</th><td>{{ source.origin }}</td></tr>
                <tr><th>Published At</th><td>{{ source.published_at|timestamp }}</td></tr>
                <tr><th>Checksum</th><td class="mono">{{ source.checksum }}</td></tr>
                <tr><th>Namespaces Defined</th><td>{{ source.namespaces_defined|join(", ") }}</td></tr>
            </table>
        </article>
    </div>
    <div>
        <article>
            <header>Actions</header>
            <div class="actions">
                <button hx-post="/sources/{{ source.namespace_name }}/delete"
                        hx-confirm="Delete this published source?"
                        class="outline secondary">Delete</button>
            </div>
        </article>
    </div>
</div>

<article>
    <header>Source Text</header>
    <pre><code class="language-plaintext">{{ source.source_text }}</code></pre>
</article>
{% endif %}
{% endblock %}
