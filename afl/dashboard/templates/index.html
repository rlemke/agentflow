{% extends "base.html" %}
{% block title %}AgentFlow Dashboard{% endblock %}
{% block content %}
<h1>Dashboard</h1>

<div class="summary-grid">
    <article class="summary-card">
        <h2>{{ total_runners }}</h2>
        <p>Runners</p>
    </article>
    <article class="summary-card">
        <h2>{{ runner_counts.get("running", 0) }}</h2>
        <p>Running</p>
    </article>
    <article class="summary-card">
        <h2>{{ runner_counts.get("failed", 0) }}</h2>
        <p>Failed</p>
    </article>
    <article class="summary-card">
        <h2>{{ server_count }}</h2>
        <p>Servers</p>
    </article>
    <article class="summary-card">
        <h2>{{ handler_count }}</h2>
        <p>Handlers</p>
    </article>
    <article class="summary-card">
        <h2>{{ source_count }}</h2>
        <p>Sources</p>
    </article>
    <article class="summary-card">
        <h2>{{ active_lock_count }}</h2>
        <p>Active Locks</p>
    </article>
    <article class="summary-card">
        <h2>{{ task_counts.get("pending", 0) }}</h2>
        <p>Pending Tasks</p>
    </article>
</div>

<section>
    <h2>Quick Links</h2>
    <ul>
        <li><a href="/runners">All Runners</a></li>
        <li><a href="/flows">All Flows</a></li>
        <li><a href="/servers">Server Status</a></li>
        <li><a href="/handlers">Handler Registrations</a></li>
        <li><a href="/events">Events (Tasks)</a></li>
        <li><a href="/sources">Published Sources</a></li>
        <li><a href="/locks">Active Locks</a></li>
        <li><a href="/tasks">Task Queue</a></li>
    </ul>
</section>
{% endblock %}
