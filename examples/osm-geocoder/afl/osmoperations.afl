/** Default parameters for OSM download operations. */
namespace osm.geo.Operations.Data {

    /** Target date for OSM data snapshot. */
    facet OsmDate(date: String = "latest")
    /** Override URL for direct OSM file download. */
    facet OsmDownloadUrl(url: String = null)
    /** Local filesystem path for pre-cached OSM data. */
    facet OsmCachedLocation(location: String = null)
    /** Forces re-download even if data is already cached. */
    facet OsmForce(force:Boolean = false)

}

/** Core OSM data operations: caching, downloading, tiling, routing graph generation, and shapefile extraction. */
namespace osm.geo.Operations {
    use osm.types

    /** Resolves a region name to a cached OSM data file, downloading if needed. */
    event facet Cache(region:String) => (cache:OSMCache)
    /** Downloads an OSM file from a URL to a local path. */
    event facet Download(url:String, path:String, force:Boolean) => (downloadCache:OSMCache)
    /** Generates map tiles from cached OSM data. */
    event facet Tile(cache:OSMCache) => (tiles:OSMCache)
    /** Builds a routing graph from cached OSM data. */
    event facet RoutingGraph(cache:OSMCache) => (graph:OSMCache)
    /** Reports statistics and metadata for cached OSM data. */
    event facet Status(cache:OSMCache) => (stats:OSMCache)
    /** Converts cached OSM data into a geocoding-optimized cache format. */
    event facet GeoOSMCache(cache:OSMCache) => (graph:OSMCache)
    /** Imports cached OSM data into a PostGIS database. */
    event facet PostGisImport(cache:OSMCache) => (stats:OSMCache)
    /** Downloads all sub-regions for a cached OSM dataset. */
    event facet DownloadAll(cache:OSMCache) => ()
    /** Generates tiles for all sub-regions in a cached dataset. */
    event facet TileAll(cache:OSMCache) => (tiles:OSMCache)
    /** Builds routing graphs for all sub-regions in a cached dataset. */
    event facet RoutingGraphAll(cache:OSMCache) => (graph:OSMCache)
    /** Reports status for all sub-regions in a cached dataset. */
    event facet StatusAll(cache:OSMCache) => (stats:OSMCache)
    /** Generates geocoding caches for all sub-regions. */
    event facet GeoOSMCacheAll(cache:OSMCache) => (graph:OSMCache)
    /** Downloads shapefiles derived from a cached OSM region. */
    event facet DownloadShapefile(cache:OSMCache) => ()
    /** Downloads shapefiles for all sub-regions in a cached dataset. */
    event facet DownloadShapefileAll(cache:OSMCache) => ()

}


