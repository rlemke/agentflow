/** Aggregates individual North American country OSM data downloads. */
namespace osm.geo.NorthAmerica.cache {
  use osm.types
  use osm.geo.cache.NorthAmerica

  /** Caches each North American country individually in parallel. */
  facet NorthAmericaIndividually () => (cache: [OSMCache]) andThen {

    canada = osm.geo.cache.NorthAmerica.Canada()
    mexico = osm.geo.cache.NorthAmerica.Mexico()
    unitedStates = osm.geo.cache.NorthAmerica.UnitedStates()
    greenland = osm.geo.cache.NorthAmerica.Greenland()

    yield NorthAmericaIndividually(cache = canada.cache ++
                                   mexico.cache ++
                                   unitedStates.cache ++
                                   greenland.cache)

  }

}
